<template>
  <div>
    <treeselect
      :multiple="true"
      :options="options"
      :default-expand-level="2"
      :value-consists-of="valueConsistsOf"
      v-model="value"
      />
    <treeselect-value :value="value" />
    <p><strong>Value consists of:</strong></p>
    <p class="options">
      <label><input type="radio" value="ALL" v-model="valueConsistsOf">All</label><br>
      <label><input type="radio" value="BRANCH_PRIORITY" v-model="valueConsistsOf">Branch priority</label><br>
      <label><input type="radio" value="LEAF_PRIORITY" v-model="valueConsistsOf">Leaf priority</label><br>
      <label><input type="radio" value="ALL_WITH_INDETERMINATE" v-model="valueConsistsOf">All with indeterminate</label>
    </p>
  </div>
</template>

<script>
  export default {
    data: () => ({
      value: [ 'person-a', 'team-ii' ],
      valueConsistsOf: 'BRANCH_PRIORITY',
    }),
    computed: {
      options() {
        const options = [ {
          id: 'company',
          label: 'Company ðŸ¢',
          children: [ {
            id: 'team-i',
            label: 'Team I ðŸ‘¥',
            children: [ {
              id: 'person-a',
              label: 'Person A ðŸ‘±',
            } ],
          }, {
            id: 'team-ii',
            label: 'Team II ðŸ‘¥',
            children: [ {
              id: 'person-c',
              label: 'Person C ðŸ‘³',
            }, {
              id: 'person-d',
              label: 'Person D ðŸ‘§',
            } ],
          }, {
            id: 'person-e',
            label: 'Person E ðŸ‘©',
          } ],
        }, {
          id: 'costumer',
          label: 'Costumer ðŸ¢',
          children: [ {
            id: 'client-i',
            label: 'Client I ðŸ‘¥',
            children: [ {
              id: 'userR-a',
              label: 'user A ðŸ‘±',
            } ],
          } ],
        } ]
        return this.value.length
          ? options.filter(x => x.children)
          : options
      },
    },
  }
</script>
